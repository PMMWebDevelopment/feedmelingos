<p id="notice"><%= notice %><%= link_to 'Back', root_path %></p>

<div class="container-fluid">
  <div class="row">
    <div class="col-md-4" id="languageShowHeader">
    <h1 ><%= @language.language %></h1>
    </div>
    <div id="options" class="col-md-8">
      <!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#changeFeedsModal">Review / change Twitter feeds on this page</button>
<button type="button" class="btn btn-primary">Sign up</button>
<button type="button" class="btn btn-primary">Log in</button>
    </div>
  </div>
  <div id="twitterRow" class="row no-gutter">
    <div class="col-md-10">
      <% @selectedfeeds.each do |selectedfeed| %>
        <div class="twitterfeeds">
          <a class="twitter-timeline" href="https://twitter.com/<%= selectedfeed.preloadsourceurl %>?ref_src=twsrc%5Etfw" data-width="320" data-height="520" data-chrome="nofooter">Tweets by <%= selectedfeed.preloadsourcename %></a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
        </div>
      <% end %>
    </div>
    <div class="col-md-2">
      <div class="otherfeedsavailable">
        <h4>List of other twitter feeds available: -</h4>
          <% @otherfeedsavailable.each do |otheravailablefeed|%>
            <p><%= otheravailablefeed.preloadsourcename %></p>
          <% end %>
      </div>
  </div>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="changeFeedsModal" tabindex="-1" role="dialog" aria-labelledby="changeFeedsModalTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLongTitle">Change your Twitter feeds for this page</h3>
        <p>The checkboxes below are pre-checked for feeds already in use.</p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
          <div class="form-check">
              <% @selectedfeeds.each do |selectedfeed|%>
                <p><%= check_box_tag 'checkbox', '', true, class: 'form-check-input' %><%= label_tag selectedfeed.preloadsourcename, selectedfeed.preloadsourcename, class: 'form-check-label'%></p>
              <% end %>
              <% @otherfeedsavailable.each do |otheravailablefeed|%>
                <p><%= check_box_tag 'checkbox', '', false, class: 'form-check-input' %><%= label_tag otheravailablefeed.preloadsourcename, otheravailablefeed.preloadsourcename, class: 'form-check-label'%></p>
              <% end %>
             </div>
      </div>
      <div class="modal-footer" id="modal-footer">
        <%= button_to 'Close', class: 'btn btn-secondary', 'data-dismiss' => 'modal' %>
        <%= button_to 'Load checked fields', { action: 'feeds', controller: 'languages' }, remote: true, class: 'btn btn-primary'  %>
    </div>
  </div>
</div>